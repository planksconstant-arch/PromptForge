{% extends "layout.html" %}

{% block content %}
<div class="max-w-7xl mx-auto">
    <!-- Header -->
    <header class="mb-10 flex justify-between items-center">
        <div>
            <h2 class="text-3xl font-bold text-white">Dashboard</h2>
            <p class="text-slate-400 mt-2">System Overview & Metrics</p>
        </div>
        <div class="glass px-4 py-2 rounded-lg flex items-center space-x-2">
            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
            <span class="text-sm font-medium">System Online</span>
        </div>
    </header>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
        <!-- Stat Card 1 -->
        <div class="glass p-6 rounded-2xl relative overflow-hidden group">
            <div
                class="absolute -right-4 -top-4 w-24 h-24 bg-indigo-500/10 rounded-full group-hover:bg-indigo-500/20 transition-all">
            </div>
            <h3 class="text-slate-400 text-sm font-medium">Active Agents</h3>
            <div class="text-4xl font-bold text-white mt-2">3</div>
            <div class="mt-4 text-xs text-green-400 flex items-center">
                <span>â–² 100%</span>
                <span class="text-slate-500 ml-2">vs last week</span>
            </div>
        </div>

        <!-- Stat Card 2 -->
        <div class="glass p-6 rounded-2xl relative overflow-hidden group">
            <div
                class="absolute -right-4 -top-4 w-24 h-24 bg-purple-500/10 rounded-full group-hover:bg-purple-500/20 transition-all">
            </div>
            <h3 class="text-slate-400 text-sm font-medium">RL Rewards</h3>
            <div class="text-4xl font-bold text-white mt-2">{{ stats.totalRewards|round(1) }}</div>
            <div class="mt-4 text-xs text-indigo-400 flex items-center">
                <span>Learning Rate: {{ stats.learningRate }}</span>
            </div>
        </div>

        <!-- Stat Card 3 -->
        <div class="glass p-6 rounded-2xl relative overflow-hidden group">
            <div
                class="absolute -right-4 -top-4 w-24 h-24 bg-cyan-500/10 rounded-full group-hover:bg-cyan-500/20 transition-all">
            </div>
            <h3 class="text-slate-400 text-sm font-medium">Projects</h3>
            <div class="text-4xl font-bold text-white mt-2">{{ status.stats.projectsManaged or 0 }}</div>
            <div class="mt-4 text-xs text-slate-500">Active Workspaces</div>
        </div>
    </div>

    <!-- Main Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Suggestions -->
        <div class="glass p-8 rounded-2xl">
            <h3 class="text-xl font-bold mb-6 flex items-center">
                ðŸ’¡ AI Suggestions
            </h3>
            <div class="space-y-4">
                {% for sug in suggestions %}
                <div
                    class="p-4 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:border-indigo-500/50 transition-colors">
                    <div class="flex justify-between items-start">
                        <div>
                            <span
                                class="text-xs font-bold px-2 py-1 rounded bg-indigo-500/20 text-indigo-300 mb-2 inline-block">
                                {{ sug.type|upper }}
                            </span>
                            <p class="text-sm text-slate-300">{{ sug.message }}</p>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="text-center py-10 text-slate-500">
                    All clear! efficient operations.
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Activity Feed (Mock) -->
        <div class="glass p-8 rounded-2xl">
            <h3 class="text-xl font-bold mb-6">Activity Feed</h3>
            <div
                class="space-y-6 relative before:absolute before:left-2 before:top-2 before:bottom-0 before:w-0.5 before:bg-slate-800">
                <div class="relative pl-8">
                    <div class="absolute left-0 top-1 w-4 h-4 rounded-full bg-green-500 border-4 border-slate-900">
                    </div>
                    <p class="text-sm text-slate-300">System initialization complete.</p>
                    <span class="text-xs text-slate-500">Just now</span>
                </div>
                <div class="relative pl-8">
                    <div class="absolute left-0 top-1 w-4 h-4 rounded-full bg-indigo-500 border-4 border-slate-900">
                    </div>
                    <p class="text-sm text-slate-300">Python Backend migration finished.</p>
                    <span class="text-xs text-slate-500">2 minutes ago</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}